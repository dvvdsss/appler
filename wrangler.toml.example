name = "apple-rag-mcp"
main = "src/worker.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Cloudflare Workers Logs Configuration
[observability]
enabled = true
head_sampling_rate = 1

# Smart Placement Configuration
# Automatically places Worker closer to your database for better performance
[placement]
mode = "smart"

# Shared configuration for all environments
# Replace with your actual values
[vars]
RAG_DB_HOST = "your_postgresql_host"
RAG_DB_PORT = "5432"
RAG_DB_DATABASE = "your_database_name"
RAG_DB_USER = "your_database_user"
RAG_DB_PASSWORD = "your_database_password"
RAG_DB_SSLMODE = "disable"
TELEGRAM_BOT_URL = "your_telegram_bot_url"

# Development environment D1 database
# Replace with your own D1 database configuration
[[d1_databases]]
binding = "DB"
database_name = "your_d1_database_name"
database_id = "your_d1_database_id"

# Production environment D1 database
# Replace with your own production D1 database configuration
[[env.production.d1_databases]]
binding = "DB"
database_name = "your_production_d1_database_name"
database_id = "your_production_d1_database_id"
